<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MorphoLearn - Morphological Error Checker</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      background: linear-gradient(120deg, #1b2735 0%, #090a0f 100%);
      color: #f2f2f2;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }

    header {
      width: 100%;
      background: #007bff;
      padding: 20px 0;
      text-align: center;
      font-size: 26px;
      font-weight: 600;
      color: white;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    main {
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(6px);
      margin-top: 40px;
      padding: 30px;
      border-radius: 12px;
      width: 90%;
      max-width: 900px;
      box-shadow: 0 0 25px rgba(0,0,0,0.5);
    }

    h2 {
      color: #66b3ff;
      margin-bottom: 10px;
    }

    p {
      color: #bbb;
      margin-bottom: 20px;
    }

    textarea {
      width: 100%;
      height: 200px;
      border-radius: 10px;
      padding: 15px;
      border: none;
      outline: none;
      font-size: 16px;
      resize: vertical;
      color: #f2f2f2;
      background: rgba(0,0,0,0.3);
    }

    button {
      background: #007bff;
      color: white;
      border: none;
      padding: 12px 40px;
      font-size: 16px;
      border-radius: 6px;
      margin-top: 20px;
      cursor: pointer;
      transition: 0.3s;
      font-weight: 600;
    }

    button:hover {
      background: #0056b3;
      transform: scale(1.05);
    }

    #result {
      margin-top: 30px;
      background: rgba(0,0,0,0.4);
      border-radius: 10px;
      padding: 20px;
      text-align: left;
      color: #ddd;
      line-height: 1.6;
    }

    mark {
      background: #ff4d4d;
      color: white;
      padding: 2px 4px;
      border-radius: 4px;
    }

    footer {
      margin-top: 50px;
      font-size: 14px;
      color: #aaa;
      text-align: center;
      padding-bottom: 20px;
    }
  </style>
</head>
<body>
  <header>ðŸ§  MorphoLearn â€“ Morphological Error Checker</header>

  <main>
    <h2>Welcome to MorphoLearn</h2>
    <p>Analyze your essay or paragraph to find possible morphological errors. This tool helps students improve their English writing through instant feedback.</p>

    <textarea id="essay" placeholder="Paste or type your paragraph here..."></textarea><br>
    <button onclick="checkErrors()">Check Now</button>

    <div id="result"></div>
  </main>

  <footer>
    Created by <b>John Oshle Lopinac</b> Â© 2025 | MorphoLearn v2.5
  </footer>

  <script>
    function checkErrors() {
      const text = document.getElementById("essay").value.trim();
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = "";

      if (!text) {
        resultDiv.innerHTML = "<p>Please enter your text first.</p>";
        return;
      }

      let output = text;
      const patterns = {
        "Plural Error": /\b(\w+ss|s{2,})\b/g,
        "Verb Tense Error": /\b(runned|goed|eated|throwed|buyed|cuted|swimed)\b/gi,
        "Prefix Error": /\b(unpossible|disagreee|irregularr|rebuilded)\b/gi,
        "Suffix Error": /\b(beautifull|helpness|friendity|quicklier)\b/gi,
        "Derivational Error": /\b(kindful|talkness|angrify|sadify)\b/gi
      };

      let errors = [];

      for (let [type, regex] of Object.entries(patterns)) {
        const matches = text.match(regex);
        if (matches) {
          matches.forEach(word => {
            const marked = `<mark>${word}</mark>`;
            const safeWord = word.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
            const wordRegex = new RegExp(`\\b${safeWord}\\b`, "g");
            output = output.replace(wordRegex, marked);
            errors.push(`${word} â†’ possible <b>${type}</b>`);
          });
        }
      }

      if (errors.length === 0) {
        resultDiv.innerHTML = "<p>âœ… No morphological errors detected! Great job!</p>";
      } else {
        resultDiv.innerHTML = `
          <p><b>Detected Errors:</b></p>
          <ul>${errors.map(e => `<li>${e}</li>`).join("")}</ul>
          <hr>
          <p>${output}</p>
        `;
      }
    }
  </script>
</body>
</html>
